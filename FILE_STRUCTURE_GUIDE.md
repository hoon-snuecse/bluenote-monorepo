# FILE_STRUCTURE_GUIDE.md

í”„ë¡œì íŠ¸ì˜ êµ¬ì¡°ì™€ íŒŒì¼ë“¤ì˜ ê´€ê³„ë¥¼ ì‰½ê²Œ ì´í•´í•˜ê³  í•„ìš”í•œ íŒŒì¼ì„ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆëŠ” ê°€ì´ë“œì…ë‹ˆë‹¤.

## 1. í”„ë¡œì íŠ¸ êµ¬ì¡° íŠ¸ë¦¬

```
bluenote-monorepo/
â”œâ”€â”€ ğŸ“ apps/                              # ë…ë¦½ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤
â”‚   â”œâ”€â”€ ğŸ“ web/                          # ë©”ì¸ êµìœ¡ ì›¹ì‚¬ì´íŠ¸ (JavaScript)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ app/                      # Next.js App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ admin/                # ê´€ë¦¬ì ì „ìš© í˜ì´ì§€ë“¤
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ analytics/        # í†µê³„ ë° ë¶„ì„ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ content/          # ì½˜í…ì¸  ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ users/            # ì‚¬ìš©ì ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ layout.js         # ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/                  # API ì—”ë“œí¬ì¸íŠ¸ë“¤
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ admin/            # ê´€ë¦¬ì API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/             # ì¸ì¦ ê´€ë ¨ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ claude/           # Claude AI API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ [section]/        # ê° ì„¹ì…˜ë³„ CRUD API
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ research/             # ì—°êµ¬ ì½˜í…ì¸  í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ teaching/             # êµìœ¡ ì½˜í…ì¸  í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ analytics/            # ë¶„ì„ ì½˜í…ì¸  í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ shed/                 # ì¼ìƒ ì½˜í…ì¸  í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ ai/chat/              # AI ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.js             # ì•± ì „ì²´ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.js               # í™ˆí˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/               # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Navigation.js         # ë„¤ë¹„ê²Œì´ì…˜ ë°”
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Footer.js             # í‘¸í„°
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ Providers.js          # Context Providers
â”‚   â”‚   â”œâ”€â”€ ğŸ“ lib/                      # ìœ í‹¸ë¦¬í‹° ë° ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.js               # NextAuth ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ supabase.js           # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ api-config.js         # API ì„¤ì •
â”‚   â”‚   â””â”€â”€ ğŸ“„ package.json              # ì˜ì¡´ì„± ê´€ë¦¬
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ grading/                      # AI ì‘ë¬¸ í‰ê°€ ì‹œìŠ¤í…œ (TypeScript)
â”‚       â”œâ”€â”€ ğŸ“ src/
â”‚       â”‚   â”œâ”€â”€ ğŸ“ app/                  # Next.js App Router
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/              # API ì—”ë“œí¬ì¸íŠ¸
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ assignments/  # ê³¼ì œ ê´€ë¦¬ API
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ evaluations/  # í‰ê°€ ê´€ë¦¬ API
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ stats/        # í†µê³„ API
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ assignments/      # ê³¼ì œ ê´€ë ¨ í˜ì´ì§€
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ dashboard/        # ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx          # ë©”ì¸ í˜ì´ì§€
â”‚       â”‚   â”œâ”€â”€ ğŸ“ components/           # UI ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”œâ”€â”€ ğŸ“ lib/                  # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ prisma.ts         # Prisma í´ë¼ì´ì–¸íŠ¸
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.ts           # ì¸ì¦ ì„¤ì •
â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ claude-api.ts     # Claude AI í†µí•©
â”‚       â”‚   â””â”€â”€ ğŸ“ types/                # TypeScript íƒ€ì… ì •ì˜
â”‚       â””â”€â”€ ğŸ“ prisma/                   # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚           â””â”€â”€ ğŸ“„ schema.prisma         # Prisma ìŠ¤í‚¤ë§ˆ ì •ì˜
â”‚
â”œâ”€â”€ ğŸ“ packages/                         # ê³µìœ  íŒ¨í‚¤ì§€ë“¤
â”‚   â”œâ”€â”€ ğŸ“ ui/                          # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ğŸ“ auth/                        # ê³µí†µ ì¸ì¦ ë¡œì§
â”‚   â”œâ”€â”€ ğŸ“ config/                      # ê³µí†µ ì„¤ì • íŒŒì¼ë“¤
â”‚   â””â”€â”€ ğŸ“ shared-infra/                # ê³µìœ  ì¸í”„ë¼ ì½”ë“œ
â”‚
â”œâ”€â”€ ğŸ“„ turbo.json                       # Turborepo ë¹Œë“œ ì„¤ì •
â”œâ”€â”€ ğŸ“„ pnpm-workspace.yaml              # pnpm ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì„¤ì •
â”œâ”€â”€ ğŸ“„ vercel.json                      # Vercel ë°°í¬ ì„¤ì •
â””â”€â”€ ğŸ“„ package.json                     # ë£¨íŠ¸ íŒ¨í‚¤ì§€ ì„¤ì •
```

## 2. í•µì‹¬ íŒŒì¼ ìƒì„¸ ë¶„ì„

### íŒŒì¼ëª…: `apps/web/lib/auth.js`
- **ì—­í• **: NextAuth ì¸ì¦ ì‹œìŠ¤í…œ ì„¤ì • ë° ê´€ë¦¬
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - Google OAuth ì„¤ì •
  - ì‚¬ìš©ì ê¶Œí•œ í™•ì¸ (allowlist ê¸°ë°˜)
  - ë¡œê·¸ì¸ í™œë™ ì¶”ì 
  - ì„¸ì…˜ ê´€ë¦¬
- **ì—°ê´€ íŒŒì¼**: 
  - `apps/web/app/api/auth/[...nextauth]/route.js`
  - `apps/web/middleware.js`
  - `packages/auth/src/authOptions.ts`
- **ìˆ˜ì • ì‹œ ì˜í–¥**: ëª¨ë“  ì¸ì¦ì´ í•„ìš”í•œ í˜ì´ì§€ì™€ API
- **ì°¾ëŠ” ë²•**: ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë¡œì§ ë³€ê²½, ê¶Œí•œ ì‹œìŠ¤í…œ ìˆ˜ì • ì‹œ

### íŒŒì¼ëª…: `apps/web/app/admin/analytics/AdminAnalyticsClient.js`
- **ì—­í• **: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì˜ í†µê³„ í™”ë©´ êµ¬í˜„
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - ì‚¬ìš©ìë³„ í™œë™ ìƒíƒœ í‘œì‹œ
  - AI ì‚¬ìš©ëŸ‰ í†µê³„ í‘œì‹œ
  - ì½˜í…ì¸  í†µê³„ ì°¨íŠ¸
- **ì—°ê´€ íŒŒì¼**: 
  - `apps/web/app/api/admin/stats/route.js`
  - `apps/web/app/api/admin/user-activity/route.js`
  - `apps/web/app/api/admin/grading-stats/route.js`
- **ìˆ˜ì • ì‹œ ì˜í–¥**: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í†µê³„ í™”ë©´
- **ì°¾ëŠ” ë²•**: ê´€ë¦¬ì í†µê³„ UI ë³€ê²½, ìƒˆë¡œìš´ í†µê³„ ì¶”ê°€ ì‹œ

### íŒŒì¼ëª…: `apps/grading/src/lib/claude-api.ts`
- **ì—­í• **: Claude AI API í†µí•© ë° í‰ê°€ ë¡œì§
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - AI í‰ê°€ ìš”ì²­ ì²˜ë¦¬
  - í‰ê°€ ê¸°ì¤€ í…œí”Œë¦¿ ê´€ë¦¬
  - ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì²˜ë¦¬
- **ì—°ê´€ íŒŒì¼**: 
  - `apps/grading/src/app/api/evaluations/route.ts`
  - `apps/grading/src/lib/ai-evaluator.ts`
- **ìˆ˜ì • ì‹œ ì˜í–¥**: ëª¨ë“  AI í‰ê°€ ê¸°ëŠ¥
- **ì°¾ëŠ” ë²•**: AI í‰ê°€ ë¡œì§ ë³€ê²½, ìƒˆ ëª¨ë¸ ì¶”ê°€ ì‹œ

### íŒŒì¼ëª…: `apps/grading/prisma/schema.prisma`
- **ì—­í• **: Grading ì•±ì˜ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì •ì˜
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - í…Œì´ë¸” êµ¬ì¡° ì •ì˜
  - ê´€ê³„ ì„¤ì •
  - ì¸ë±ìŠ¤ ì •ì˜
- **ì—°ê´€ íŒŒì¼**: 
  - `apps/grading/src/lib/prisma.ts`
  - ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ì½”ë“œ
- **ìˆ˜ì • ì‹œ ì˜í–¥**: ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°, ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš”
- **ì°¾ëŠ” ë²•**: ìƒˆ í…Œì´ë¸” ì¶”ê°€, í•„ë“œ ë³€ê²½ ì‹œ

### íŒŒì¼ëª…: `apps/web/lib/supabase.js`
- **ì—­í• **: Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ë° í—¬í¼ í•¨ìˆ˜
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - í´ë¼ì´ì–¸íŠ¸/ì„œë²„/ê´€ë¦¬ì í´ë¼ì´ì–¸íŠ¸ ìƒì„±
  - íŒŒì¼ ì—…ë¡œë“œ í—¬í¼
  - ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ í—¬í¼
- **ì—°ê´€ íŒŒì¼**: 
  - ëª¨ë“  Supabaseë¥¼ ì‚¬ìš©í•˜ëŠ” API ë¼ìš°íŠ¸
  - `apps/web/lib/supabase/client.js`
  - `apps/web/lib/supabase/server.js`
- **ìˆ˜ì • ì‹œ ì˜í–¥**: ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ì½”ë“œ
- **ì°¾ëŠ” ë²•**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì • ë³€ê²½ ì‹œ

### íŒŒì¼ëª…: `turbo.json`
- **ì—­í• **: Turborepo ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ì„¤ì •
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - ë¹Œë“œ ìˆœì„œ ì •ì˜
  - ìºì‹± ì „ëµ ì„¤ì •
  - í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
- **ì—°ê´€ íŒŒì¼**: 
  - `package.json` (ìŠ¤í¬ë¦½íŠ¸)
  - ê° ì•±ì˜ `package.json`
- **ìˆ˜ì • ì‹œ ì˜í–¥**: ë¹Œë“œ í”„ë¡œì„¸ìŠ¤, ê°œë°œ ì„œë²„
- **ì°¾ëŠ” ë²•**: ë¹Œë“œ ì„¤ì • ë³€ê²½, ìƒˆ í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ ì‹œ

### íŒŒì¼ëª…: `apps/web/middleware.js`
- **ì—­í• **: Next.js ë¯¸ë“¤ì›¨ì–´ë¡œ ì¸ì¦ ë° ë¼ìš°íŒ… ì œì–´
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - ë³´í˜¸ëœ ê²½ë¡œ ì ‘ê·¼ ì œì–´
  - ì„¸ì…˜ í™•ì¸
  - ë¦¬ë‹¤ì´ë ‰ì…˜ ì²˜ë¦¬
- **ì—°ê´€ íŒŒì¼**: 
  - `apps/web/lib/auth.js`
  - ëª¨ë“  ë³´í˜¸ëœ í˜ì´ì§€
- **ìˆ˜ì • ì‹œ ì˜í–¥**: í˜ì´ì§€ ì ‘ê·¼ ê¶Œí•œ
- **ì°¾ëŠ” ë²•**: ìƒˆ ë³´í˜¸ ê²½ë¡œ ì¶”ê°€, ê¶Œí•œ ë¡œì§ ë³€ê²½ ì‹œ

### íŒŒì¼ëª…: `apps/grading/src/app/api/stats/users/route.ts`
- **ì—­í• **: ì‚¬ìš©ìë³„ AI í‰ê°€ í†µê³„ API
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - ëª¨ë¸ë³„ ì‚¬ìš©ì í†µê³„ ì§‘ê³„
  - ìµœë‹¤ ì‚¬ìš©ì ë­í‚¹
- **ì—°ê´€ íŒŒì¼**: 
  - `apps/web/app/api/admin/grading-user-stats/route.js`
  - `apps/grading/prisma/schema.prisma`
- **ìˆ˜ì • ì‹œ ì˜í–¥**: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì‚¬ìš©ì í†µê³„
- **ì°¾ëŠ” ë²•**: AI ì‚¬ìš© í†µê³„ ìˆ˜ì • ì‹œ

### íŒŒì¼ëª…: `apps/web/app/api/claude/route.js`
- **ì—­í• **: Claude AI ì±„íŒ… API ì—”ë“œí¬ì¸íŠ¸
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - ì±„íŒ… ìš”ì²­ ì²˜ë¦¬
  - ì‚¬ìš©ëŸ‰ ì œí•œ í™•ì¸
  - ì‘ë‹µ ìŠ¤íŠ¸ë¦¬ë°
- **ì—°ê´€ íŒŒì¼**: 
  - `apps/web/app/ai/chat/ClaudeChat.js`
  - `apps/web/lib/usage.js`
- **ìˆ˜ì • ì‹œ ì˜í–¥**: AI ì±„íŒ… ê¸°ëŠ¥
- **ì°¾ëŠ” ë²•**: AI ì±„íŒ… ë¡œì§ ë³€ê²½ ì‹œ

### íŒŒì¼ëª…: `packages/auth/src/authOptions.ts`
- **ì—­í• **: ê³µí†µ NextAuth ì„¤ì • íŒ©í† ë¦¬ í•¨ìˆ˜
- **ì£¼ìš” ê¸°ëŠ¥**: 
  - ì•±ë³„ ì¸ì¦ ì„¤ì • ìƒì„±
  - ì½œë°± í•¨ìˆ˜ ì •ì˜
  - ì„¸ì…˜ ì „ëµ ì„¤ì •
- **ì—°ê´€ íŒŒì¼**: 
  - `apps/web/lib/auth.js`
  - `apps/grading/src/lib/auth.ts`
- **ìˆ˜ì • ì‹œ ì˜í–¥**: ëª¨ë“  ì•±ì˜ ì¸ì¦ ì‹œìŠ¤í…œ
- **ì°¾ëŠ” ë²•**: ì¸ì¦ ë¡œì§ ì „ì²´ ë³€ê²½ ì‹œ

## 3. ê¸°ëŠ¥ë³„ íŒŒì¼ ê·¸ë£¹

### ğŸ¯ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬
- **ê´€ë ¨ íŒŒì¼ë“¤**:
  - `apps/web/lib/auth.js` - NextAuth ì„¤ì •
  - `apps/web/middleware.js` - ë¼ìš°íŠ¸ ë³´í˜¸
  - `apps/web/app/api/auth/[...nextauth]/route.js` - ì¸ì¦ API
  - `packages/auth/src/authOptions.ts` - ê³µí†µ ì¸ì¦ ì˜µì…˜
- **ì‹œì‘ì **: `apps/web/lib/auth.js`ë¶€í„° ì‹œì‘
- **ìˆ˜ì • ì‹œë‚˜ë¦¬ì˜¤**: 
  - ìƒˆ OAuth ì œê³µì ì¶”ê°€
  - ê¶Œí•œ ë ˆë²¨ ë³€ê²½
  - ì„¸ì…˜ ì‹œê°„ ì¡°ì •

### ğŸ¯ AI ì‘ë¬¸ í‰ê°€
- **ê´€ë ¨ íŒŒì¼ë“¤**:
  - `apps/grading/src/lib/claude-api.ts` - AI API í†µí•©
  - `apps/grading/src/app/api/evaluations/route.ts` - í‰ê°€ API
  - `apps/grading/src/components/evaluation/*` - í‰ê°€ UI
  - `apps/grading/prisma/schema.prisma` - ë°ì´í„° ëª¨ë¸
- **ì‹œì‘ì **: `apps/grading/src/app/assignments/[assignmentId]/evaluate/page.tsx`
- **ìˆ˜ì • ì‹œë‚˜ë¦¬ì˜¤**: 
  - í‰ê°€ ê¸°ì¤€ ë³€ê²½
  - ìƒˆ AI ëª¨ë¸ ì¶”ê°€
  - í‰ê°€ UI ê°œì„ 

### ğŸ¯ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
- **ê´€ë ¨ íŒŒì¼ë“¤**:
  - `apps/web/app/admin/analytics/AdminAnalyticsClient.js` - í†µê³„ UI
  - `apps/web/app/api/admin/stats/route.js` - í†µê³„ API
  - `apps/web/app/api/admin/user-activity/route.js` - í™œë™ API
  - `apps/web/app/admin/users/AdminUsersClient.js` - ì‚¬ìš©ì ê´€ë¦¬
- **ì‹œì‘ì **: `apps/web/app/admin/dashboard/page.js`
- **ìˆ˜ì • ì‹œë‚˜ë¦¬ì˜¤**: 
  - ìƒˆ í†µê³„ ì§€í‘œ ì¶”ê°€
  - ì‚¬ìš©ì ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€
  - ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ ë³€ê²½

### ğŸ¯ ì½˜í…ì¸  ê´€ë¦¬ (CMS)
- **ê´€ë ¨ íŒŒì¼ë“¤**:
  - `apps/web/app/[section]/page.js` - ëª©ë¡ í˜ì´ì§€
  - `apps/web/app/[section]/[id]/page.js` - ìƒì„¸ í˜ì´ì§€
  - `apps/web/app/[section]/write/page.js` - ì‘ì„± í˜ì´ì§€
  - `apps/web/app/api/[section]/posts/route.js` - CRUD API
- **ì‹œì‘ì **: í•´ë‹¹ ì„¹ì…˜ì˜ `page.js`
- **ìˆ˜ì • ì‹œë‚˜ë¦¬ì˜¤**: 
  - ìƒˆ ì½˜í…ì¸  íƒ€ì… ì¶”ê°€
  - í¸ì§‘ê¸° ê¸°ëŠ¥ ê°œì„ 
  - íŒŒì¼ ì—…ë¡œë“œ ë¡œì§ ë³€ê²½

### ğŸ¯ í¬ë¡œìŠ¤ ì•± í†µì‹ 
- **ê´€ë ¨ íŒŒì¼ë“¤**:
  - `apps/web/app/api/admin/grading-stats/route.js` - í”„ë¡ì‹œ API
  - `apps/grading/src/app/api/stats/route.ts` - ì›ë³¸ API
  - ê° ì•±ì˜ CORS ì„¤ì • íŒŒì¼
- **ì‹œì‘ì **: í”„ë¡ì‹œ API íŒŒì¼ë“¤
- **ìˆ˜ì • ì‹œë‚˜ë¦¬ì˜¤**: 
  - ìƒˆ í¬ë¡œìŠ¤ ì•± API ì¶”ê°€
  - CORS ì •ì±… ë³€ê²½
  - API ì‘ë‹µ í˜•ì‹ ë³€ê²½

## 4. íŒŒì¼ ì˜ì¡´ì„± ë§µ

```
apps/web/app/layout.js
â”œâ”€â”€ imports components/Providers.js
â”‚   â”œâ”€â”€ imports NextAuth SessionProvider
â”‚   â””â”€â”€ imports Custom Contexts
â”œâ”€â”€ imports components/Navigation.js
â”‚   â””â”€â”€ imports lib/auth.js (session check)
â””â”€â”€ imports globals.css

apps/web/app/admin/analytics/page.js
â”œâ”€â”€ imports AdminAnalyticsClient.js
â”‚   â”œâ”€â”€ calls /api/admin/stats
â”‚   â”œâ”€â”€ calls /api/admin/user-activity
â”‚   â””â”€â”€ calls /api/admin/grading-stats
â”‚       â””â”€â”€ proxies to grading app

apps/grading/src/app/page.tsx
â”œâ”€â”€ imports components/Navigation.tsx
â”œâ”€â”€ imports lib/auth.ts
â””â”€â”€ imports lib/prisma.ts

packages/auth/src/authOptions.ts
â”œâ”€â”€ used by apps/web/lib/auth.js
â””â”€â”€ used by apps/grading/src/lib/auth.ts
```

## 5. ë¹ ë¥¸ ì°¾ê¸° ê°€ì´ë“œ

### ğŸ” "ì´ëŸ° ì‘ì—…ì„ í•˜ê³  ì‹¶ë‹¤ë©´..."

- **ìƒˆë¡œìš´ í˜ì´ì§€ ì¶”ê°€**: 
  - Web ì•±: `apps/web/app/` ì•„ë˜ì— í´ë” ìƒì„± í›„ `page.js` ì¶”ê°€
  - Grading ì•±: `apps/grading/src/app/` ì•„ë˜ì— í´ë” ìƒì„± í›„ `page.tsx` ì¶”ê°€

- **API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€**: 
  - `app/api/` í´ë”ì— ìƒˆ ë¼ìš°íŠ¸ ìƒì„±
  - `route.js` ë˜ëŠ” `route.ts` íŒŒì¼ ìƒì„±

- **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½**:
  - Web ì•±: Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ì§ì ‘ ìˆ˜ì •
  - Grading ì•±: `prisma/schema.prisma` ìˆ˜ì • í›„ ë§ˆì´ê·¸ë ˆì´ì…˜

- **ìŠ¤íƒ€ì¼ ë³€ê²½**:
  - ì „ì—­ ìŠ¤íƒ€ì¼: `app/globals.css`
  - ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼: Tailwind í´ë˜ìŠ¤ ì§ì ‘ ìˆ˜ì •

- **í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€**:
  - `.env.local` íŒŒì¼ì— ì¶”ê°€
  - `turbo.json`ì˜ `globalEnv`ì— ì¶”ê°€ (ë¹Œë“œ ì‹œ í•„ìš”í•œ ê²½ìš°)

- **ì¸ì¦ ë¡œì§ ë³€ê²½**:
  - `lib/auth.js` ë˜ëŠ” `lib/auth.ts` ìˆ˜ì •
  - í•„ìš”ì‹œ `middleware.js` ìˆ˜ì •

- **ìƒˆ ê³µìœ  ì»´í¬ë„ŒíŠ¸ ì¶”ê°€**:
  - `packages/ui/src/components/`ì— ìƒì„±
  - `packages/ui/src/index.ts`ì—ì„œ export

## 6. ì£¼ì˜ì‚¬í•­ ë° íŒ

### âš ï¸ ì ˆëŒ€ ìˆ˜ì •í•˜ë©´ ì•ˆ ë˜ëŠ” íŒŒì¼ë“¤
- `.next/` í´ë” ë‚´ ëª¨ë“  íŒŒì¼ (ë¹Œë“œ ì‚°ì¶œë¬¼)
- `node_modules/` ë‚´ íŒŒì¼ë“¤
- `pnpm-lock.yaml` (ì§ì ‘ ìˆ˜ì • ê¸ˆì§€)
- `.turbo/` ìºì‹œ íŒŒì¼ë“¤

### âš¡ ìˆ˜ì • ì‹œ ì£¼ì˜í•  íŒŒì¼ë“¤
- `prisma/schema.prisma` - ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš”
- `middleware.js` - ì „ì²´ ë¼ìš°íŒ…ì— ì˜í–¥
- `turbo.json` - ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ì— ì˜í–¥
- ì¸ì¦ ê´€ë ¨ íŒŒì¼ë“¤ - ë³´ì•ˆì— ì§ì ‘ì  ì˜í–¥

### ğŸ’¾ ë°±ì—… ê¶Œì¥ íŒŒì¼ë“¤
- `.env.local` - í™˜ê²½ ì„¤ì •
- `prisma/schema.prisma` - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- ê°ì¢… ì„¤ì • íŒŒì¼ë“¤ (`*.config.js`)

### ğŸš€ ê°œë°œ íŒ
1. **ë³€ê²½ ì „ í™•ì¸**: `git status`ë¡œ í˜„ì¬ ìƒíƒœ í™•ì¸
2. **ë¡œì»¬ í…ŒìŠ¤íŠ¸**: ë°°í¬ ì „ ë¡œì»¬ì—ì„œ ì¶©ë¶„íˆ í…ŒìŠ¤íŠ¸
3. **ì˜ì¡´ì„± í™•ì¸**: íŒŒì¼ ìˆ˜ì • ì‹œ importí•˜ëŠ” ë‹¤ë¥¸ íŒŒì¼ë“¤ í™•ì¸
4. **íƒ€ì… ì•ˆì „ì„±**: TypeScript íŒŒì¼ì€ íƒ€ì… ì²´í¬ í†µê³¼ í™•ì¸

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2025-07-27*
*ì´ ê°€ì´ë“œëŠ” í”„ë¡œì íŠ¸ êµ¬ì¡° ë³€ê²½ ì‹œ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.*